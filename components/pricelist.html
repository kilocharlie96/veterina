<div id="pricelist-vue">
  <h2>Orientačný cenník</h2>
  <p><small>Cena pre konkrétneho pacienta je upresnená po vyšetrení.</small></p>

  <section v-for="(groups, sectionName) in pricelist" :key="sectionName">
<h3 :id="sectionName
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .toLowerCase()
    .replace(/\s+/g, '-')">
    {{ sectionName }}
</h3>

    <div v-for="(items, groupName) in groups" :key="groupName">
      <h4 v-if="groupName">{{ groupName }}</h4>

      <ul>
        <li v-for="row in items" :key="row.id">
          <strong>{{ row.item }}</strong> {{ row.price }}
        </li>
      </ul>
    </div>
  </section>
</div>

<script>
  const { createApp, ref, onMounted } = Vue;

  createApp({
    setup() {
      const pricelist = ref({});

      onMounted(async () => {
        const response = await fetch('pricelist.json');
        pricelist.value = await response.json();
      });

      return { pricelist };
    }
  }).mount('#pricelist-vue');
</script>
